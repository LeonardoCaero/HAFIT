<h3 class="fill-remaining-space">New plan</h3>
<div class="container">
  <form [formGroup]="myForm" (ngSubmit)="onSubmit(myForm.value)">
    <div class="form-element">
      <input placeholder="Name" formControlName="name">
    </div>
    <div class="form-element">
      <editor apiKey="t2j4xztrfvczi9wm2i8z8li2hses0j1jn2sv80yq0zw8wjam"
  [init]="{ plugins: 'lists link table code wordcount quickbars image media' }" formControlName="description"></editor><!--buscar como hacer para selecionar imagenes locales-->
    </div>
    <div class="form-element pt-2">
      <h5 class="form-label">Featured image</h5>
      <input placeholder="Featured image" enctype="multipart/form-data" formControlName="featuredImg" name="featuredImg" class="form-control w-75" type="file" (change)="onFileSelected($event)">
     
    </div>
    <div class="form-element">
      <button  color="primary" type="submit" class="button">Submit</button>
    </div>
  </form>
</div>
<button id="upload_widget" class="cloudinary-button">
  Upload files
</button>
<div class="alert alert-danger" *ngIf="errorMessage">
  {{errorMessage}}
</div>

<script type="text/javascript">  
  var myWidget = cloudinary.createUploadWidget({
    cloudName: 'dlomgjt1k', 
    uploadPreset: 'plan-preset'}, (error, result) => { 
      if (!error && result && result.event === "success") { 
        console.log('Done! Here is the image info: ', result.info); 
      }
    }
  )
  
  document.getElementById("upload_widget").addEventListener("click", function(){
    console.log('clicked')
      myWidget.open();
    }, false);
  </script>